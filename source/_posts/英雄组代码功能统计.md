---
title: 英雄组代码功能统计
date: 2020-03-22 11:14:55
tags: test
---

## 英雄组代码功能统计说明

## 底盘

### 功率限制

* 一阶卡尔曼滤波。

### 裁判系统

* 单级PID计算（SW2上为遥控控制，SW2中、下为键盘控制）。

### 遥控控制

* 实现车子基本运动，包括前后运动、左右平移、左右旋转。

### 键盘控制

* 机械模式 。
* 陀螺仪模式 （SW2下为陀螺仪，SW2中为机械模式）。
* 小功能：
* 正常模式 （W、S、A、D、Q、E键控制车子的前后平移、左右平移、左右旋转）。
* 扭屁股F键(不必长按，按一下即可）。
* 手动爬坡(W或CTRL键任一个松开，退出模式）。
* 开学之后进行调试的有  小陀螺   超级电容 

### 云台

### 遥控模式

* 机械模式。（yaw轴固定在中）
* 陀螺仪模式。

### 键盘模式

* 通过mode_ctrl选择控制模式。
* Ctrl+V+A左掉头。
* Ctrl+V+A右掉头。
* Ctrl不处于按下状态时按Q(左),E(右)90°调头
* 若SW1不在中,鼠标右键按下切换到自瞄模式，云台控制交由妙算。
* 鼠标长时间不移动默认将速度降为0。
* 补弹丸模式（就是云台固定角度居中，防止影响补弹丸）
* 按键加入延时防止响应过于灵敏，防止误触。

## 弹仓

### 胶轮控制   

* 通过PWM控制，鼠标左键点击控制胶轮。

### 弹仓供弹

* 卡弹堵转的检测。

* 光电门检测供弹，后光电门检测弹管是否填满。
* 前光电门检测是否打出弹丸。

## 射击

### 遥控模式

* 射速切换高中低三挡对应不用场景。
* 正常模式低射速，推家时候可以切换到高射速。
* 摩擦轮加速斜坡。
* 对应的是遥控sw1，sw2的up，down。

### 键鼠控制

* 按下B ，提高射速。
* 默认射速为低档。
* 抬头接近限位，认为在打哨兵，提升射速。

## PID

* 云台不同模式对应两套pid参数。
* 开学调试的重点。

## 开学调试

* 基本功能测试。

* 云台是否流畅，不抖动，pid参数调参。

* 光电门与拨弹盘的配合以及拨弹的测试。

* 机械结构改变，卡弹检测需实际测试。

* 未知的超级电容测试

* 底盘小功能的测试

* 英雄车的爬坡问题,修改过后的机械结构重心是否符合要求。

* 和操作手沟通，然后根据需求调整键位。

  

